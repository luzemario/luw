#!/bin/bash
#--------------------------------------------------------------------------------#
#               LUW-MDC - Monitor de memoria, disco e cpu                        #
#                  CREATED BY: maik.alberto@hotmail.com                          #
#--------------------------------------------------------------------------------#
echo -e "Content-type: text/html\n\n"
#--------------------------------------------------------------------------------#
#               		  MEMORY     				         #
#--------------------------------------------------------------------------------#
echo "<h2>Memoria</h2>"
echo "<pre>"
free -h
echo "</pre>"
#--------------------------------------------------------------------------------#
#               		  DISC     				         #
#--------------------------------------------------------------------------------#
echo "<h2>Disco</h2>"
echo "<pre>"
df -h /dev/xvda1
echo "</pre>"
#--------------------------------------------------------------------------------#
#               		   CPU                              		 #
#--------------------------------------------------------------------------------#
echo "<h2>CPU</h2>"
cat /proc/cpuinfo | head -5 | tail -1
echo "<br>"
echo "use:"; cat <(grep 'cpu ' /proc/stat) <(sleep 1 && grep 'cpu ' /proc/stat) | awk -v RS="" '{print ($13-$2+$15-$4)*100/($13-$2+$15-$4+$16-$5) "%"}'
#--------------------------------------------------------------------------------#
#               		   RELOAD                              		 #
#--------------------------------------------------------------------------------#
echo "<meta http-equiv='refresh' content='0';>"
